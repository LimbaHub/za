# 分层任务评估框架 (Task Evaluation Framework)

## 📖 框架概述

### 🎯 使用说明
本框架为RIPER-7系统提供专业的任务评估指导，通过类型驱动的评估方法提高AI任务完成效率和效果。

**快速使用流程**：
1. 执行快速类型识别（30秒内）
2. 调用对应类型的评估清单（2-3分钟）
3. 输出标准化评估结果
4. 获得下一步模式建议

### 📊 7大任务类型概览

| 类型 | 识别特征 | 核心关注点 | 主要拆分策略 |
|------|----------|------------|--------------|
| 简单任务 | 单文件修改、明确小需求 | 快速执行 | 无需拆分 |
| 功能开发 | 新增模块、页面、API | 业务复杂度、技术难度 | 按模块、按阶段 |
| 重构优化 | 代码重构、性能优化 | 影响范围、风险评估 | 按风险、按模块 |
| 配置管理 | 配置调整、工具链配置 | 兼容性、环境影响 | 按环境、按类型 |
| 数据处理 | 数据流水线、数据转换 | 数据量、处理逻辑 | 按流程、按阶段 |
| 系统改进 | 工作流优化、工具改进 | 效率提升、推广难度 | 按范围、按难度 |
| 体验设计 | UI优化、交互改进 | 用户影响、实现复杂度 | 按场景、按层次 |

### 🔄 评估流程图示

```
用户需求 → 快速类型识别 → 简单任务？
                           ↓
                         是：基础评估 → 执行模式
                           ↓
                         否：详细评估 → 输出结果 → 模式建议
```

## 🔍 快速识别系统

### 📋 类型识别决策树

**第一步：任务规模判断**
- 单文件修改 + 明确需求 → **简单任务**
- 多文件协调 OR 需要设计 → 继续判断

**第二步：任务性质判断**
- 新增功能/模块/页面 → **功能开发类**
- 修改现有代码/优化性能 → **重构优化类**
- 调整配置/工具/规范 → **配置管理类**
- 处理数据/转换/清理 → **数据处理类**
- 优化流程/工具/自动化 → **系统改进类**
- 改善UI/交互/体验 → **体验设计类**

### ⚡ 简单任务快速通道标准

**识别标准**：
- 修改内容 ≤ 1个文件
- 需求描述清晰明确
- 无需架构设计思考
- 预估时间 ≤ 30分钟
- 无跨模块依赖

**处理流程**：
任务确认 → 基础评估 → 直接进入执行模式

### 🎯 识别特征对照表

| 关键词线索 | 对应类型 | 示例描述 |
|------------|----------|----------|
| "新增"、"创建"、"实现" | 功能开发 | "新增英雄详情页面" |
| "重构"、"优化"、"改进" | 重构优化 | "重构代码提升性能" |
| "配置"、"设置"、"规范" | 配置管理 | "调整构建配置文件" |
| "数据"、"处理"、"转换" | 数据处理 | "处理英雄数据流水线" |
| "工作流"、"工具"、"自动化" | 系统改进 | "优化开发工作流程" |
| "UI"、"交互"、"体验" | 体验设计 | "优化用户交互体验" |
| "修复"、"调整"、"更新" | 简单任务 | "修复明显的显示bug" |

## 📋 详细评估清单

### 🛠️ 功能开发类评估清单

#### 🔍 快速识别特征
- 新增完整模块或子系统
- 新增页面、组件或API接口
- 实现全新的业务功能
- 扩展现有功能的新特性

#### ⚡ 核心评估维度
**业务复杂度**：需求是否明确？涉及多少业务流程？ → 明确+单一=低复杂度
**技术难度**：是否需要新技术？现有架构是否支持？ → 现有技术+架构支持=低难度
**依赖关系**：依赖多少模块？是否需要外部资源？ → 依赖少+资源充足=低依赖
**测试需求**：需要哪些测试？测试工作量如何？ → 单元测试为主=低测试复杂度

#### 📊 复杂度判断标准
- **简单**：单一功能+现有技术+独立模块 → 建议直接进入执行模式
- **中等**：多个功能点+部分新技术+少量依赖 → 建议进入计划模式
- **复杂**：复杂业务+较多新技术+多模块协调 → 建议先研究再计划
- **超大**：系统级功能+大量新技术+复杂依赖 → 强制要求任务拆分

#### ⚠️ 关键风险点识别
- 需求变更风险：业务需求不明确或频繁变化 | 预防：详细需求澄清和确认
- 技术选型风险：新技术的学习成本和稳定性 | 预防：技术调研和小范围验证
- 集成复杂度风险：与现有系统的集成难度 | 预防：接口设计和兼容性检查

#### 🔧 拆分策略建议
- **按功能模块拆分**：独立的业务功能单元 → 降低复杂度和风险
- **按开发阶段拆分**：设计→API→UI→测试 → 渐进式实现和验证
- **按优先级拆分**：MVP核心功能 vs 增强功能 → 快速价值交付

#### 🎯 下一步模式建议
- **简单功能** → 直接执行模式
- **中等复杂** → 计划模式（需要规划但不需要深度研究）
- **高度复杂** → 研究模式（需要深入理解和探索）

### 🔧 重构优化类评估清单

#### 🔍 快速识别特征
- 代码结构重构和优化
- 性能瓶颈解决和提升
- 架构调整和模块重组
- 技术债务清理和代码质量改进

#### ⚡ 核心评估维度
**影响范围**：涉及多少文件和模块？是否有破坏性变更？ → 文件少+向后兼容=低影响
**风险评估**：重构可能引入的风险？现有测试覆盖度？ → 测试充分+渐进重构=低风险
**收益分析**：重构带来的具体收益？投入产出比？ → 收益明确+ROI高=值得投入
**测试保障**：重构后的验证方案？回退策略？ → 完善测试+回退方案=有保障

#### 📊 复杂度判断标准
- **简单**：局部重构+充分测试+明确收益 → 建议直接进入执行模式
- **中等**：模块级重构+部分风险+较好测试 → 建议进入计划模式
- **复杂**：系统级重构+较高风险+测试不足 → 建议先研究再计划
- **超大**：架构级重构+高风险+影响面广 → 强制要求任务拆分

#### ⚠️ 关键风险点识别
- 功能回归风险：重构后功能异常或性能下降 | 预防：完善回归测试和性能基准
- 进度延期风险：重构复杂度超出预期 | 预防：渐进式重构和里程碑管控
- 并行开发风险：重构影响其他功能开发 | 预防：合理规划和分支管理

#### 🔧 拆分策略建议
- **按风险级别拆分**：低风险优先，高风险独立处理 → 降低整体风险
- **按模块边界拆分**：独立模块逐个重构 → 减少相互影响
- **按重构类型拆分**：结构重构 vs 性能优化 → 分类处理更专业

#### 🎯 下一步模式建议
- **简单重构** → 直接执行模式
- **中等复杂** → 计划模式（需要详细的重构计划）
- **高度复杂** → 研究模式（需要深入分析现状和方案）

### ⚙️ 配置管理类评估清单

#### 🔍 快速识别特征
- 配置文件调整和更新
- 开发工具链配置优化
- 设计系统和编码规范调整
- 构建、部署、CI/CD配置

#### ⚡ 核心评估维度
**兼容性检查**：配置变更是否向后兼容？是否影响现有功能？ → 向后兼容=低风险
**环境影响**：影响开发/测试/生产环境？配置同步复杂度？ → 单环境=低影响
**维护成本**：是否需要频繁更新维护？学习成本？ → 维护简单=低成本
**回滚准备**：配置出错时的快速回滚方案？ → 容易回滚=有保障

#### 📊 复杂度判断标准
- **简单**：局部配置+向后兼容+容易回滚 → 建议直接进入执行模式
- **中等**：系统配置+部分影响+需要规划 → 建议进入计划模式
- **复杂**：全局配置+较大影响+维护复杂 → 建议先研究再计划
- **超大**：架构级配置+破坏性变更+多环境 → 强制要求任务拆分

#### ⚠️ 关键风险点识别
- 配置冲突风险：新旧配置不兼容导致系统问题 | 预防：兼容性测试和渐进更新
- 版本同步风险：配置更新导致版本不一致 | 预防：版本管理和文档更新
- 环境差异风险：不同环境配置不一致 | 预防：配置管理和自动化同步

#### 🔧 拆分策略建议
- **按环境拆分**：开发→测试→生产环境逐步推进 → 降低风险和影响
- **按配置类型拆分**：工具配置 vs 业务配置分离 → 减少相互影响
- **按影响范围拆分**：局部配置 vs 全局配置分开处理 → 灵活推进

#### 🎯 下一步模式建议
- **简单配置** → 直接执行模式
- **中等复杂** → 计划模式（需要协调和部署计划）
- **高度复杂** → 研究模式（需要深入分析影响和方案）

### 📊 数据处理类评估清单

#### 🔍 快速识别特征
- 数据流水线开发和优化
- 数据格式转换和清理
- 数据导入导出功能
- 数据分析和报表生成

#### ⚡ 核心评估维度
**数据量评估**：处理的数据规模？性能要求如何？ → 小数据量=低复杂度
**数据质量**：输入数据的质量和完整性？异常处理需求？ → 质量好=低风险
**处理逻辑**：数据转换逻辑的复杂度？业务规则多少？ → 逻辑简单=易实现
**错误处理**：数据异常的处理策略？监控和恢复机制？ → 策略完善=可靠性高

#### 📊 复杂度判断标准
- **简单**：小数据量+质量好+逻辑简单 → 建议直接进入执行模式
- **中等**：中等数据量+部分异常+逻辑适中 → 建议进入计划模式
- **复杂**：大数据量+质量问题+逻辑复杂 → 建议先研究再计划
- **超大**：海量数据+质量差+复杂业务规则 → 强制要求任务拆分

#### ⚠️ 关键风险点识别
- 数据质量风险：输入数据异常导致处理失败 | 预防：数据验证和清理机制
- 性能瓶颈风险：数据量增长导致处理超时 | 预防：性能测试和优化策略
- 数据丢失风险：处理过程中数据损坏或丢失 | 预防：备份机制和事务处理

#### 🔧 拆分策略建议
- **按数据流程拆分**：提取→转换→加载分阶段实现 → 降低复杂度
- **按数据类型拆分**：不同数据源分别处理 → 减少相互影响
- **按处理阶段拆分**：数据验证→处理→输出分离 → 便于调试和优化

#### 🎯 下一步模式建议
- **简单处理** → 直接执行模式
- **中等复杂** → 计划模式（需要详细的数据处理流程设计）
- **高度复杂** → 研究模式（需要深入分析数据特征和处理策略）

### 🚀 系统改进类评估清单

#### 🔍 快速识别特征
- 开发工作流程优化
- 开发工具和脚本改进
- 自动化流程建设
- 个人开发效率提升

#### ⚡ 核心评估维度
**效率提升**：预期的效率提升幅度？量化收益如何？ → 提升明显=价值高
**学习成本**：个人适应新流程的成本？培训需求？ → 成本低=易适应
**稳定性要求**：系统改进的稳定性和可靠性要求？ → 要求不高=风险小
**适应难度**：在项目中应用的阻力和难度？ → 阻力小=易实施

#### 📊 复杂度判断标准
- **简单**：效率提升明显+学习成本低+易适应 → 建议直接进入执行模式
- **中等**：效率提升适中+部分学习成本+需规划 → 建议进入计划模式
- **复杂**：效率提升不确定+学习成本高+适应困难 → 建议先研究再计划
- **超大**：系统级改进+高成本+多模块协调 → 强制要求任务拆分

#### ⚠️ 关键风险点识别
- 适应性风险：开发者不适应新流程或工具 | 预防：渐进式应用和学习支持
- 稳定性风险：新工具或流程不稳定影响工作 | 预防：充分测试和备选方案
- ROI风险：改进成本超过收益 | 预防：收益评估和阶段性验证

#### 🔧 拆分策略建议
- **按改进范围拆分**：个人工具 vs 项目工具分开处理 → 降低应用难度
- **按实施难度拆分**：简单改进优先实施 → 快速获得收益和信心
- **按用户群体拆分**：开发者 vs 其他角色分别优化 → 针对性更强

#### 🎯 下一步模式建议
- **简单改进** → 直接执行模式
- **中等复杂** → 计划模式（需要详细的推广和实施计划）
- **高度复杂** → 研究模式（需要深入分析现状和改进方案）

### 🎨 体验设计类评估清单

#### 🔍 快速识别特征
- UI界面优化和视觉改进
- 用户交互流程优化
- 用户体验提升项目
- 界面响应和动效设计

#### ⚡ 核心评估维度
**用户影响**：对最终用户的影响程度？用户价值如何？ → 影响大=价值高
**设计一致性**：是否符合现有设计规范？是否需要更新规范？ → 符合规范=实施简单
**实现复杂度**：设计实现的技术复杂度？开发工作量？ → 复杂度低=易实现
**效果评估**：如何验证改进效果？成功标准是什么？ → 标准明确=可验证

#### 📊 复杂度判断标准
- **简单**：用户价值明确+符合规范+实现简单 → 建议直接进入执行模式
- **中等**：用户价值适中+部分规范调整+实现适中 → 建议进入计划模式
- **复杂**：用户价值不确定+需要新规范+实现复杂 → 建议先研究再计划
- **超大**：系统级体验改进+大量设计工作+技术挑战 → 强制要求任务拆分

#### ⚠️ 关键风险点识别
- 用户接受度风险：用户不喜欢或不适应新设计 | 预防：用户研究和渐进式发布
- 技术实现风险：设计要求技术实现困难 | 预防：技术可行性评估和方案调整
- 一致性风险：新设计与整体风格不一致 | 预防：设计规范遵循和评审机制

#### 🔧 拆分策略建议
- **按用户场景拆分**：不同用户路径分别优化 → 聚焦用户价值
- **按设计层次拆分**：视觉 vs 交互 vs 信息架构分离 → 专业化处理
- **按优先级拆分**：核心体验 vs 细节优化分阶段 → 快速价值交付

#### 🎯 下一步模式建议
- **简单优化** → 直接执行模式
- **中等复杂** → 计划模式（需要详细的设计和实现计划）
- **高度复杂** → 研究模式（需要深入的用户研究和设计探索）

### ⚡ 简单任务类处理规范
**识别后直接执行**：跳过详细评估，基础信息记录后直接进入执行模式
**文档简化**：只记录任务类型、基本描述和执行结果

## 🛠️ 拆分策略库

### 📊 拆分决策判断标准
- **工期标准**：预估超过5天 → 考虑拆分
- **复杂度标准**：评估为"超大" → 强制拆分
- **风险标准**：包含高风险项 → 风险隔离拆分
- **依赖标准**：涉及多模块协作 → 按模块边界拆分

### 🔧 通用拆分方法
**按阶段拆分**：设计→开发→测试→部署
- 适用：大部分开发类任务
- 优势：清晰的里程碑和交付物

**按模块拆分**：独立功能模块分离
- 适用：功能开发和重构类任务
- 优势：降低相互影响和复杂度

**按优先级拆分**：核心功能优先
- 适用：功能开发和体验设计类任务
- 优势：快速价值交付和验证

**按风险拆分**：高风险项独立处理
- 适用：重构优化和系统改进类任务
- 优势：风险隔离和控制

### 📋 拆分模板示例
**原始任务**：开发完整的英雄模块
**拆分后**：
1. 英雄数据模型设计
2. 英雄列表页面开发
3. 英雄详情页面开发
4. 英雄筛选功能开发
5. 集成测试和优化

## 📝 评估结果模板

### 🎯 标准输出格式
```markdown
## 📋 任务评估结果

**任务类型**：[7大类型之一]
**复杂度等级**：[简单/中等/复杂/超大]
**预估工期**：[基于复杂度的时间预估]

### 关键评估结果
- **维度1**：[评估结论]
- **维度2**：[评估结论]
- **维度3**：[评估结论]
- **维度4**：[评估结论]

### ⚠️ 主要风险点
1. [风险描述] | 建议：[缓解措施]
2. [风险描述] | 建议：[缓解措施]

### 🎯 建议策略
**下一步模式**：[研究/创新/计划/执行]模式
**拆分建议**：[具体拆分方案或"无需拆分"]
**关键关注点**：[后续阶段需要特别关注的要点]
```

### 📊 预估工期参考
- **简单任务**：0.5-1天
- **中等复杂**：2-3天
- **复杂任务**：4-7天
- **超大任务**：需要拆分

## 📚 常见案例参考

### 🎯 典型案例处理
**案例1**："优化英雄详情页加载速度"
- 类型：重构优化类
- 复杂度：中等
- 关注点：性能测试、用户体验、技术方案

**案例2**："新增装备合成功能"
- 类型：功能开发类
- 复杂度：复杂
- 关注点：业务逻辑、数据模型、UI交互

**案例3**："修复构建配置文件错误"
- 类型：简单任务
- 复杂度：简单
- 处理：直接执行模式

### 🔄 边界情况处理
**混合类型任务**：选择主要任务类型，次要类型在评估中考虑
**类型不明确**：优先选择复杂度更高的类型进行评估
**争议案例**：记录争议点，按保守原则选择更详细的评估路径

---

**文档版本**：v1.0.0  
**维护说明**：定期根据使用反馈优化评估标准和拆分策略 